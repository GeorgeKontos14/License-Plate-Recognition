image: python:3.9

stages:
  - build
  - run
  - test-percentage

build_project:
  stage: build
  script:
    - python -m venv venv
    - source venv/bin/activate
    - pip install --upgrade pip         # If you want to add more requirements, uncomment these 2 lines
    - pip install -r requirements.txt   # If you want to add more requirements, uncomment these 2 lines
    - echo "Installed everything!"
    - python main.py
  artifacts:
    paths:
      - venv/

run_main:
  stage: run
  script:
    - source venv/bin/activate
    - echo "Running main (with default - hardcoded settings)!"
    - python main.py
  dependencies:
    - build_project